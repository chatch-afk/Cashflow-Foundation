<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cash Flow Foundation</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React 18 (UMD) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>

    <!-- Babel (enables JSX without build tooling) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  </head>

  <body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
      // Cash Flow Foundation — Client Dashboard (GitHub Pages Single-File)
      // Notes:
      // - “Paid” items retain funded history but are excluded from active FO reserved math.
      // - Plain JSX + React UMD + Babel (no build step).

      function makeId() {
        if (
          typeof crypto !== "undefined" &&
          crypto &&
          typeof crypto.randomUUID === "function"
        ) {
          return crypto.randomUUID();
        }
        return `id_${Math.random().toString(16).slice(2)}_${Date.now()}`;
      }

      function toNumber(maybe) {
        const n = Number(String(maybe || "").replace(/,/g, ""));
        return Number.isFinite(n) ? n : 0;
      }

      function fmtUSD(n) {
        return Number(n || 0).toLocaleString(undefined, {
          style: "currency",
          currency: "USD",
          maximumFractionDigits: 0,
        });
      }

      function MoneyInput({ value, onChange, placeholder = "0" }) {
        return (
          <div className="flex items-center gap-2">
            <span className="text-slate-500">$</span>
            <input
              inputMode="decimal"
              placeholder={placeholder}
              value={value}
              onChange={(e) => {
                const next = e.target.value.replace(/[^0-9.,]/g, "");
                onChange(next);
              }}
              className="border rounded-xl px-3 py-2 w-full bg-white"
